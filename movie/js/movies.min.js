function initialize(){}function sendRequest(){var e=new XMLHttpRequest,t=encodeURI(document.getElementById("form-input").value);e.open("GET","php/proxy.php?method=/3/search/movie&query="+t),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText),t=JSON.stringify(e,void 0,2);resultObject=e.results.length,createList(t,e)}},e.send(null)}function deleteList(){for(var e=document.getElementById("orderedList");e.firstChild;)e.removeChild(e.firstChild);for(;movieID.length>0;)movieID.pop(),movieTitle.pop(),movieReleaseDate.pop(),movieDescription.pop(),movieImageURL.pop()}function createList(e,t){deleteList();for(var i=document.getElementById("orderedList"),n=0;resultObject>n;n++){var r=document.createElement("li");title=document.createElement("p"),movieID.push(t.results[n].id),movieTitle.push(t.results[n].title),movieReleaseDate.push(t.results[n].release_date),title.innerHTML=" Movie Title: &nbsp; "+movieTitle[n]+" &nbsp; Release: "+movieReleaseDate[n],title.setAttribute("onclick","titleClicked("+t.results[n].id+");"),r.appendChild(title),i.appendChild(r)}}function titleClicked(e){var t=document.getElementById("outputMSG");t.innerHTML="",getMovieGenre(e),getMovieCast(e)}function getMovieGenre(e){var t=document.createElement("p"),i=new XMLHttpRequest;i.open("GET","php/proxy.php?method=/3/movie/"+e),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){if(4==this.readyState){for(var e=JSON.parse(this.responseText),i=0;i<e.genres.length;i++)t.innerHTML="<b>Movie Genere : </b> "+e.genres[0].name;var n=document.getElementById("outputMSG"),r=document.createElement("p");r.innerHTML="<b>Title :</b> "+e.title;var a=document.createElement("p");a.innerHTML="<b>Release :</b>"+e.release_date;var s=document.createElement("p");s.innerHTML="<b>Description :</b>  "+e.overview;var o=document.createElement("img");e.poster_path?o.setAttribute("src"," http://image.tmdb.org/t/p/w185"+e.poster_path):e.backdrop_path?o.setAttribute("src"," http://image.tmdb.org/t/p/w185"+e.backdrop_path):o.setAttribute("src","https://via.placeholder.com/350x150"),n.appendChild(r),n.appendChild(a),n.appendChild(o),n.appendChild(s),n.appendChild(t)}},i.send(null)}function getMovieCast(e){var t=document.createElement("p"),i=document.createElement("p");i.innerHTML=" <b>Cast :</b>";var n,r=new XMLHttpRequest;r.open("GET","php/proxy.php?method=/3/movie/"+e+"/credits"),r.setRequestHeader("Accept","application/json"),r.onreadystatechange=function(){if(4==this.readyState){var e=JSON.parse(this.responseText);n=e.cast.length>5?5:e.cast.length;for(var i=0;n>i;i++)t.innerHTML+=e.cast[i].name+","}},r.send(null);var a=document.getElementById("outputMSG");a.appendChild(i),a.appendChild(t)}var resultObject,movieID=new Array,movieTitle=new Array,movieReleaseDate=new Array,movieDescription=new Array,movieImageURL=new Array,title;